import{XtalCustomEvent,registerTagName}from"./custom-event.js";var defaultTagName_xtal_in_children="observe-children",canonicalTagName_xtal_in_children="xtal-in-children",watchSubtree="watch-subtree",ObserveChildren=function(_XtalCustomEvent){babelHelpers.inherits(ObserveChildren,_XtalCustomEvent);function ObserveChildren(){var _this;babelHelpers.classCallCheck(this,ObserveChildren);_this=babelHelpers.possibleConstructorReturn(this,(ObserveChildren.__proto__||Object.getPrototypeOf(ObserveChildren)).call(this));_this._mutationCount=0;_this._isSubClass=!0;return _this}babelHelpers.createClass(ObserveChildren,[{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){babelHelpers.get(ObserveChildren.prototype.__proto__||Object.getPrototypeOf(ObserveChildren.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue);switch(name){case watchSubtree:this._watchSubtree=null!==newValue;this.disconnect();this.addMutationObserver();break;}}},{key:"disconnect",value:function disconnect(){if(this._observer)this._observer.disconnect()}},{key:"addMutationObserver",value:function addMutationObserver(){var _this2=this,config={childList:!0,subtree:this._watchSubtree};this._observer=new MutationObserver(function(mutationsList){_this2.detail=mutationsList;_this2._mutationCount++;_this2.setResult(_this2._mutationCount,null)});this.setResult(this._mutationCount,null);this._observer.observe(this.parentElement,config)}},{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(ObserveChildren.prototype.__proto__||Object.getPrototypeOf(ObserveChildren.prototype),"connectedCallback",this).call(this);this.disconnect();this.addMutationObserver()}},{key:"disconnedCallback",value:function disconnedCallback(){this.disconnect()}},{key:"watchSubtree",get:function get(){return this.hasAttribute(watchSubtree)},set:function set(val){if(val){this.setAttribute(watchSubtree,"")}else{this.removeAttribute(watchSubtree)}}}],[{key:"observedAttributes",get:function get(){return babelHelpers.get(ObserveChildren.__proto__||Object.getPrototypeOf(ObserveChildren),"observedAttributes",this).concat([watchSubtree])}}]);return ObserveChildren}(XtalCustomEvent);registerTagName(defaultTagName_xtal_in_children,ObserveChildren);var XtalInChildren=function(_ObserveChildren){babelHelpers.inherits(XtalInChildren,_ObserveChildren);function XtalInChildren(){babelHelpers.classCallCheck(this,XtalInChildren);return babelHelpers.possibleConstructorReturn(this,(XtalInChildren.__proto__||Object.getPrototypeOf(XtalInChildren)).apply(this,arguments))}return XtalInChildren}(ObserveChildren);customElements.define(canonicalTagName_xtal_in_children,XtalInChildren);