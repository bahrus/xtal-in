(function(){var canonicalTagName="xtal-in-detail",bubbles="bubbles",composed="composed",dispatch="dispatch",disabled="disabled",detail="detail",event_name="event-name",debounce_duration="debounce-duration",zoom_in="zoom-in",zoom_out="zoom-out";function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(function later(){timeout=null;if(!immediate)func.apply(context,args)},wait);if(callNow)func.apply(context,args)}}var XtalCustomEvent=function(_HTMLElement){babelHelpers.inherits(XtalCustomEvent,_HTMLElement);function XtalCustomEvent(){var _this;babelHelpers.classCallCheck(this,XtalCustomEvent);_this=babelHelpers.possibleConstructorReturn(this,(XtalCustomEvent.__proto__||Object.getPrototypeOf(XtalCustomEvent)).apply(this,arguments));_this._debounceDuration=0;return _this}babelHelpers.createClass(XtalCustomEvent,[{key:"zoomInObject",value:function zoomInObject(obj){if(!this.zoomIn)return obj;for(var returnObj=obj,split=this.zoomIn.split("."),i=0,ii=split.length,selector;i<ii;i++){selector=split[i];returnObj=returnObj[selector];if(!returnObj)return null}return returnObj}},{key:"zoomOutObject",value:function zoomOutObject(obj){if(!this.zoomOut)return obj;var returnObj=obj;this.zoomOut.split(".").forEach(function(){returnObj={token:returnObj}});return returnObj}},{key:"zoom",value:function zoom(obj){if(null===obj)return obj;return this.zoomInObject(this.zoomOutObject(obj))}},{key:"setResult",value:function setResult(val){this._result=val;var newEvent=new CustomEvent("result-changed",{detail:{value:val},bubbles:!0,composed:!1});this.dispatchEvent(newEvent)}},{key:"onPropsChange",value:function onPropsChange(){if(!this._dispatch||!this._detail||!this.eventName||this.disabled)return;if(this._debounceFunction){this._debounceFunction()}else{this.emitEvent()}}},{key:"emitEvent",value:function emitEvent(){var newEvent=new CustomEvent(this.eventName,{detail:this._zoomedDetail,bubbles:this.bubbles,composed:this.composed});this.dispatchEvent(newEvent);if(!this._isSubClass&&newEvent.detail){this.setResult(newEvent.detail.value,newEvent)}}},{key:"_upgradeProperties",value:function _upgradeProperties(props){var _this2=this;props.forEach(function(prop){if(_this2.hasOwnProperty(prop)){var value=_this2[prop];delete _this2[prop];_this2[prop]=value}})}},{key:"connectedCallback",value:function connectedCallback(){this._upgradeProperties(XtalCustomEvent.observedAttributes.map(function(attrib){return snakeToCamel(attrib)}))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){var _this3=this;switch(name){case bubbles:case dispatch:case composed:case disabled:this["_"+snakeToCamel(name)]=null!==newValue;break;case detail:this._detail=this.zoom(JSON.parse(newValue));break;case debounce_duration:this._debounceDuration=parseFloat(newValue);if(0<this._debounceDuration){this._debounceFunction=debounce(function(){_this3.emitEvent()},this._debounceDuration)}break;}this.onPropsChange()}},{key:"bubbles",get:function get(){return this._bubbles},set:function set(val){if(val){this.setAttribute(bubbles,"")}else{this.removeAttribute(bubbles)}}},{key:"composed",get:function get(){return this._composed},set:function set(val){if(val){this.setAttribute(composed,"")}else{this.removeAttribute(composed)}}},{key:"disabled",get:function get(){return this._disabled||this.hasAttribute(disabled)},set:function set(val){if(val){this.setAttribute(disabled,"")}else{this.removeAttribute(disabled)}}},{key:"dispatch",get:function get(){return this._dispatch},set:function set(val){if(val){this.setAttribute(dispatch,"")}else{this.removeAttribute(dispatch)}}},{key:"detail",get:function get(){return this._detail},set:function set(val){this._detail=val;this._zoomedDetail=this.zoom(this._detail);this.onPropsChange()}},{key:"debounceDuration",get:function get(){return this._debounceDuration},set:function set(val){this.setAttribute(debounce_duration,val.toString())}},{key:"eventName",get:function get(){return this.getAttribute(event_name)},set:function set(val){this.setAttribute(event_name,val)}},{key:"zoomIn",get:function get(){return this.getAttribute(zoom_in)},set:function set(val){this.setAttribute(zoom_in,val)}},{key:"zoomOut",get:function get(){return this.getAttribute(zoom_out)},set:function set(val){this.setAttribute(zoom_out,val)}},{key:"result",get:function get(){return this._result}}],[{key:"observedAttributes",get:function get(){return[bubbles,composed,dispatch,detail,event_name,debounce_duration,zoom_in,zoom_out]}}]);return XtalCustomEvent}(HTMLElement);function registerTagName(defaultTagName,cls){var h=document.head;if(!h)return;var scTagName="xtalIn"+snakeToCamel(defaultTagName)+"Alias",tagName=defaultTagName,alias=h.dataset[scTagName];if(alias){tagName=alias}customElements.define(tagName,cls)}function snakeToCamel(s){return s.replace(/(\-\w)/g,function(m){return m[1].toUpperCase()})}if(!customElements.get(canonicalTagName)){registerTagName("custom-event",XtalCustomEvent);var XtalInDetail=function(_XtalCustomEvent){babelHelpers.inherits(XtalInDetail,_XtalCustomEvent);function XtalInDetail(){babelHelpers.classCallCheck(this,XtalInDetail);return babelHelpers.possibleConstructorReturn(this,(XtalInDetail.__proto__||Object.getPrototypeOf(XtalInDetail)).apply(this,arguments))}return XtalInDetail}(XtalCustomEvent);customElements.define(canonicalTagName,XtalInDetail)}var filter="filter",ObserveAttributes=function(_XtalCustomEvent2){babelHelpers.inherits(ObserveAttributes,_XtalCustomEvent2);function ObserveAttributes(){babelHelpers.classCallCheck(this,ObserveAttributes);return babelHelpers.possibleConstructorReturn(this,(ObserveAttributes.__proto__||Object.getPrototypeOf(ObserveAttributes)).apply(this,arguments))}babelHelpers.createClass(ObserveAttributes,[{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){babelHelpers.get(ObserveAttributes.prototype.__proto__||Object.getPrototypeOf(ObserveAttributes.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue);switch(name){case filter:this._filter=JSON.parse(newValue);break;}}},{key:"getValues",value:function getValues(attributes){var _this4=this,attribs={};attributes.forEach(function(attrib){attribs[attrib]=_this4._child[attrib]});return attribs}},{key:"addMutationObserver",value:function addMutationObserver(){var _this5=this;this.disconnect();if(!this._child)return;var config={attributes:!0,attributeFilter:this._filter};this._observer=new MutationObserver(function(mutationsList){mutationsList.forEach(function(mutation){_this5.detail={mutation:mutation}});var attribs=_this5.filter?_this5.getValues(_this5.filter):_this5._child.attributes;_this5.setResult(attribs,null)});this._observer.observe(this._child,config)}},{key:"getChild",value:function getChild(){var _this6=this;switch(this.childElementCount){case 0:setTimeout(function(){_this6.getChild()},100);return;case 1:this._child=this.firstElementChild;this.addMutationObserver();break;default:console.error("This component only supports a single element child");}}},{key:"disconnect",value:function disconnect(){if(this._observer)this._observer.disconnect()}},{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(ObserveAttributes.prototype.__proto__||Object.getPrototypeOf(ObserveAttributes.prototype),"connectedCallback",this).call(this);this._upgradeProperties([filter]);this.getChild()}},{key:"filter",get:function get(){return this._filter},set:function set(val){this.setAttribute(filter,JSON.stringify(val))}}],[{key:"observedAttributes",get:function get(){return babelHelpers.get(ObserveAttributes.__proto__||Object.getPrototypeOf(ObserveAttributes),"observedAttributes",this).concat([filter])}}]);return ObserveAttributes}(XtalCustomEvent);registerTagName("observe-attributes",ObserveAttributes);var XtalInAttributes=function(_ObserveAttributes){babelHelpers.inherits(XtalInAttributes,_ObserveAttributes);function XtalInAttributes(){babelHelpers.classCallCheck(this,XtalInAttributes);return babelHelpers.possibleConstructorReturn(this,(XtalInAttributes.__proto__||Object.getPrototypeOf(XtalInAttributes)).apply(this,arguments))}return XtalInAttributes}(ObserveAttributes);customElements.define("xtal-in-attributes",XtalInAttributes);var watchSubtree="watch-subtree",ObserveChildren=function(_XtalCustomEvent3){babelHelpers.inherits(ObserveChildren,_XtalCustomEvent3);function ObserveChildren(){var _this7;babelHelpers.classCallCheck(this,ObserveChildren);_this7=babelHelpers.possibleConstructorReturn(this,(ObserveChildren.__proto__||Object.getPrototypeOf(ObserveChildren)).call(this));_this7._mutationCount=0;_this7._isSubClass=!0;return _this7}babelHelpers.createClass(ObserveChildren,[{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){babelHelpers.get(ObserveChildren.prototype.__proto__||Object.getPrototypeOf(ObserveChildren.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue);switch(name){case watchSubtree:this._watchSubtree=null!==newValue;this.disconnect();this.addMutationObserver();break;}}},{key:"disconnect",value:function disconnect(){if(this._observer)this._observer.disconnect()}},{key:"addMutationObserver",value:function addMutationObserver(){var _this8=this,config={childList:!0,subtree:this._watchSubtree};this._observer=new MutationObserver(function(mutationsList){_this8.detail=mutationsList;_this8._mutationCount++;_this8.setResult(_this8._mutationCount,null)});this.setResult(this._mutationCount,null);this._observer.observe(this.parentElement,config)}},{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(ObserveChildren.prototype.__proto__||Object.getPrototypeOf(ObserveChildren.prototype),"connectedCallback",this).call(this);this.disconnect();this.addMutationObserver()}},{key:"disconnedCallback",value:function disconnedCallback(){this.disconnect()}},{key:"watchSubtree",get:function get(){return this.hasAttribute(watchSubtree)},set:function set(val){if(val){this.setAttribute(watchSubtree,"")}else{this.removeAttribute(watchSubtree)}}}],[{key:"observedAttributes",get:function get(){return babelHelpers.get(ObserveChildren.__proto__||Object.getPrototypeOf(ObserveChildren),"observedAttributes",this).concat([watchSubtree])}}]);return ObserveChildren}(XtalCustomEvent);registerTagName("observe-children",ObserveChildren);var XtalInChildren=function(_ObserveChildren){babelHelpers.inherits(XtalInChildren,_ObserveChildren);function XtalInChildren(){babelHelpers.classCallCheck(this,XtalInChildren);return babelHelpers.possibleConstructorReturn(this,(XtalInChildren.__proto__||Object.getPrototypeOf(XtalInChildren)).apply(this,arguments))}return XtalInChildren}(ObserveChildren);customElements.define("xtal-in-children",XtalInChildren);var mediaQueryString="media-query-string",canonicalTagName_XtalInMedia="xtal-in-media",matchesMediaQuery="matches-media-query",MatchMedia=function(_XtalCustomEvent4){babelHelpers.inherits(MatchMedia,_XtalCustomEvent4);function MatchMedia(){babelHelpers.classCallCheck(this,MatchMedia);return babelHelpers.possibleConstructorReturn(this,(MatchMedia.__proto__||Object.getPrototypeOf(MatchMedia)).apply(this,arguments))}babelHelpers.createClass(MatchMedia,[{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){switch(name){case mediaQueryString:this.disconnect();this._mediaQueryString=newValue;if(null!==newValue){this._mql=window.matchMedia(this._mediaQueryString);this._boundMediaQueryHandler=this.handleMediaQueryChange.bind(this);this.connect()}}}},{key:"connect",value:function connect(){this._mql.addListener(this._boundMediaQueryHandler)}},{key:"disconnect",value:function disconnect(){if(this._mql)this._mql.removeListener(this._boundMediaQueryHandler)}},{key:"handleMediaQueryChange",value:function handleMediaQueryChange(e){if(e.matches){this.setAttribute(matchesMediaQuery,"")}else{this.removeAttribute(matchesMediaQuery)}this.detail=e;this.setResult(e.matches,null)}},{key:"connectedCallback",value:function connectedCallback(){this._upgradeProperties(["mediaQueryString"])}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.disconnect()}},{key:"mediaQueryString",get:function get(){return this._mediaQueryString},set:function set(val){this.setAttribute(mediaQueryString,val)}}],[{key:"is",get:function get(){return"match-media"}},{key:"observedAttributes",get:function get(){return[mediaQueryString]}}]);return MatchMedia}(XtalCustomEvent);if(!customElements.get(canonicalTagName_XtalInMedia)){registerTagName(MatchMedia.is,MatchMedia);var XtalInMedia=function(_MatchMedia){babelHelpers.inherits(XtalInMedia,_MatchMedia);function XtalInMedia(){babelHelpers.classCallCheck(this,XtalInMedia);return babelHelpers.possibleConstructorReturn(this,(XtalInMedia.__proto__||Object.getPrototypeOf(XtalInMedia)).apply(this,arguments))}return XtalInMedia}(MatchMedia);customElements.define(canonicalTagName_XtalInMedia,XtalInMedia)}var stopPropagation="stop-propagation",on="on",ifMatches="if-matches",valueProps="value-props",disabledAttributeMatcher="disabled-attribute-matcher",canonicalTagName_XtalInCurry="xtal-in-curry";function getParent(el){var parent=el.parentNode;if(11===parent.nodeType){return parent.host}return parent}var AddEventListener=function(_XtalCustomEvent5){babelHelpers.inherits(AddEventListener,_XtalCustomEvent5);function AddEventListener(){var _this9;babelHelpers.classCallCheck(this,AddEventListener);_this9=babelHelpers.possibleConstructorReturn(this,(AddEventListener.__proto__||Object.getPrototypeOf(AddEventListener)).call(this));_this9._isSubClass=!0;return _this9}babelHelpers.createClass(AddEventListener,[{key:"set",value:function set(val){if(val){this.setAttribute(disabledAttributeMatcher,"")}else{this.removeAttribute(disabledAttributeMatcher)}}},{key:"qsa",value:function qsa(css,from){return[].slice.call((from?from:this).querySelectorAll(css))}},{key:"attributeChangedCallback",value:function attributeChangedCallback(name,oldValue,newValue){var _this10=this;switch(name){case stopPropagation:this._stopPropagation=null!==newValue;break;case valueProps:this._valueProps=newValue;case ifMatches:this._ifMatches=newValue;break;case disabledAttributeMatcher:this._disabledAttributeMatcher=null!==newValue;case on:this._on=newValue;var parent=getParent(this),bundledAllHandlers=parent[canonicalTagName_XtalInCurry];if(this._on){if(!this._boundEventHandler){this._boundEventHandler=this.handleEvent.bind(parent)}if(!bundledAllHandlers){bundledAllHandlers=parent[canonicalTagName_XtalInCurry]={}}var bundledHandlersForSingleEventType=bundledAllHandlers[this._on];if(!bundledHandlersForSingleEventType){bundledHandlersForSingleEventType=bundledAllHandlers[this._on]=[];parent.addEventListener(this._on,this._boundEventHandler)}bundledHandlersForSingleEventType.push(this);this.enableElements();if("loading"===document.readyState){document.addEventListener("DOMContentLoaded",function(){_this10.enableElements()})}}else{this.disconnect()}break;}babelHelpers.get(AddEventListener.prototype.__proto__||Object.getPrototypeOf(AddEventListener.prototype),"attributeChangedCallback",this).call(this,name,oldValue,newValue)}},{key:"enableElements",value:function enableElements(){if(this.disabledAttributeMatcher){this.setAttribute("attached","");var parent=getParent(this);if(0<this.qsa(":not(attached)[".concat(this.disabledAttributeMatcher,"]"),parent).length)return;this.qsa("[disabled=\"".concat(this.disabledAttributeMatcher,"\"]"),parent).forEach(function(el){el.removeAttribute("disabled")})}}},{key:"modifyEvent",value:function modifyEvent(e,subscriber){if(subscriber.stopPropagation)e.stopPropagation()}},{key:"handleEvent",value:function handleEvent(e){var _this11=this,bundledHandlers=this["xtal-in-curry"][e.type];bundledHandlers.forEach(function(subscriber){var target=e.target;if(subscriber.ifMatches){if(!target.matches(subscriber.ifMatches))return}subscriber.modifyEvent(e,subscriber);if(_this11.valueProps){var values,hasMultipleValues=!1;if(-1<_this11.valueProps.indexOf(",")){hasMultipleValues=!0;values={};var parsedValueProps=_this11.valueProps.split(",");parsedValueProps.forEach(function(prop){values[prop]=target[prop]})}else{values=target[_this11._valueProps]}var eventObj={};if(values){if(hasMultipleValues){eventObj.values=values}else{eventObj.value=values}eventObj.context=e.detail}else{Object.assign(eventObj,e.detail)}subscriber.detail=eventObj}else{var _detail=e.detail;switch(babelHelpers.typeof(_detail)){case"object":subscriber.detail=Object.assign({},_detail);break;default:subscriber.detail=_detail;}}var receipt;switch(babelHelpers.typeof(subscriber.detail)){case"object":receipt=Object.assign({},subscriber.detail);default:receipt=subscriber.detail;}subscriber.setResult(receipt,e)})}},{key:"removeElement",value:function removeElement(array,element){var index=array.indexOf(element);if(-1!==index){array.splice(index,1)}}},{key:"disconnect",value:function disconnect(){var parent=getParent(this),bundledAllHandlers=parent[canonicalTagName_XtalInCurry],bundledHandlersForSingleEventType=bundledAllHandlers[this._on];this.removeElement(bundledHandlersForSingleEventType,this);if(0===bundledHandlersForSingleEventType.length&&this._boundEventHandler){parent.removeEventListener(this._on,this._boundEventHandler)}}},{key:"connectedCallback",value:function connectedCallback(){babelHelpers.get(AddEventListener.prototype.__proto__||Object.getPrototypeOf(AddEventListener.prototype),"connectedCallback",this).call(this);this._upgradeProperties(["on","stopPropagation","valueProps"])}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.disconnect()}},{key:"stopPropagation",get:function get(){return this._stopPropagation||this.hasAttribute(stopPropagation)},set:function set(val){if(val){this.setAttribute(stopPropagation,"")}else{this.removeAttribute(stopPropagation)}}},{key:"disabledAttributeMatcher",get:function get(){return this._disabledAttributeMatcher||this.getAttribute(disabledAttributeMatcher)}},{key:"on",get:function get(){return this._on},set:function set(val){this.setAttribute(on,val)}},{key:"ifMatches",get:function get(){return this._ifMatches||this.getAttribute(ifMatches)},set:function set(val){this.setAttribute(ifMatches,val)}},{key:"valueProps",get:function get(){return this._valueProps||this.getAttribute(valueProps)},set:function set(val){this.setAttribute(valueProps,val.toString())}}],[{key:"observedAttributes",get:function get(){return babelHelpers.get(AddEventListener.__proto__||Object.getPrototypeOf(AddEventListener),"observedAttributes",this).concat([stopPropagation,on,ifMatches,valueProps,disabledAttributeMatcher])}}]);return AddEventListener}(XtalCustomEvent);if(!customElements.get(canonicalTagName_XtalInCurry)){registerTagName("add-event-listener",AddEventListener);var XtalInCurry=function(_AddEventListener){babelHelpers.inherits(XtalInCurry,_AddEventListener);function XtalInCurry(){babelHelpers.classCallCheck(this,XtalInCurry);return babelHelpers.possibleConstructorReturn(this,(XtalInCurry.__proto__||Object.getPrototypeOf(XtalInCurry)).apply(this,arguments))}return XtalInCurry}(AddEventListener);customElements.define(canonicalTagName_XtalInCurry,XtalInCurry)}})();